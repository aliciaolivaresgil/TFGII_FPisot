\capitulo{3}{Conceptos teóricos}

En este capítulo se llevará a cabo una descripción de los conceptos necesarios para comprender el funcionamiento de la aplicación desarrollada.

\section{Conceptos acerca de los Sistemas de Información Geográfica (SIG)}
	\subsection{Introducción}
	Un Sistema de Información Geográfica también visto como \acrshort{gis} por sus siglas en inglés, es una herramienta que permite trabajar con información georreferenciada, es decir, los datos vienen acompañados de una posición geográfica. Estas herramientas estás especialmente diseñadas para trabajar con este tipo de datos lo que permite no solo operaciones \acrfull{crud} habituales de una base de datos convencional sino que permite análisis de la información referentes a su ubicación o características topográficas.
	Además de estos análisis espaciales, permite una mejor visualización de los datos a través de mapas, esto ayuda a comunicar de una forma clara los datos que de otra manera serían complejos de entender.
	Son herramientas versátiles en múltiples campos no solo en la informática o en la geología: permiten monitorizar en tiempo real dispositivos desplegados en un territorio, predecir ciertos modelos como en meteorología o permite tomar decisiones de manera informada a un experto en materias como: satélites, drones, optimizaciones de rutas, expansión urbana, cambio climático...
	
	\todo{EXTENSIÓN DE ESTE TEMA?? NO SÉ QUÉ MÁS TRATAR}
	
	\subsection{Servicios GIS usados en el proyecto}
	Estos sistemas o herramientas con referencias geográficas son comúnmente utilizadas a modo de servicios cuando se desarrolla una nueva aplicación con algún componente de información geográfica. Los proveedores de estos servicios facilitan los datos  georreferenciados según las peticiones realizadas por el usuario. En el caso de Eco City Tours, una aplicación con una fuerte relación con los \acrshort{sig} encontramos los siguientes servicios utilizados:
	\begin{itemize}
		\item \textbf{Servicio de mapas}: con Google como proveedor se usa este servicio para proveer a la aplicación de un mapa para mostrar de fondo así como marcadores y polilíneas de rutas.
		
		\item \textbf{Geocodificación}: sirve para obtener las coordenadas GPS de un lugar o conseguir el nombre de un lugar próximo a unas coordenadas dadas (inverse geocoding). Se ha utilizado este servicio con el proveedor MapBox.
		
		\item \textbf{Servicio de navegación y de Optimización de rutas}: el servicio de navegación nos proporciona una ruta entre dos puntos en el mapa y el servicio de optimización permite generar una ruta que sea la más óptima entre n puntos de interés en el mapa. El proveedor de este servicio fue MapBox que permite solucionar este problema de optimización popularmente conocido como \textit{el Problema del viajante} tanto por tiempo como por distancia según se indique en la petición al servicio.
		
	\end{itemize}
	
\section{Conceptos acerca de los Objetivos de Desarrollo Sostenible}
	\subsection{Introducción y contexto histórico}
	Los Objetivos de Desarrollo Sostenible (ODS) son una serie de 17 objetivos globales adoptados por la Asamblea General de la Organización de las Naciones Unidas (ONU) el 25 de septiembre de 2015, como parte de la Agenda 2030 para el Desarrollo Sostenible. Estos objetivos constituyen una hoja de ruta para abordar los mayores desafíos a los que se enfrenta la humanidad, incluyendo la pobreza, la desigualdad, la justicia social, la degradación ambiental y el cambio climático. Según la ONU ~\cite{un_sustainable_development}, "El 25 de septiembre de 2015, los líderes mundiales adoptaron un conjunto de objetivos globales para erradicar la pobreza, proteger el planeta y asegurar la prosperidad para todos como parte de una nueva agenda de desarrollo sostenible. Cada objetivo tiene metas específicas que deben alcanzarse en los próximos 15 años".		
	\imagen{odss}{Objetivos de Desarrollo Sostenible}{1}
	Los ODS suceden a los Objetivos de Desarrollo del Milenio (ODM), que fueron formulados en el año 2000 y finalizados en 2015. A diferencia de los ODM, que se enfocaban principalmente en los países en desarrollo, los ODS son universales y están diseñados para ser aplicados por todos los países, sin importar su nivel de desarrollo. Los ODS buscan un equilibrio entre los tres pilares del desarrollo sostenible: económico, social y ambiental, y se caracterizan por un enfoque holístico e integrador que reconoce las interrelaciones entre estos ámbitos.
	
	\subsection{Principios rectores de los ODS}
	
	Los ODS están basados en principios clave para asegurar su impacto global y efectivo:
	
	Universalidad: Los ODS son aplicables a todos los países del mundo. No se trata únicamente de desafíos para los países en desarrollo, sino que incluyen a todas las naciones en la tarea de construir un futuro más sostenible.
	
	Integración: Los ODS están profundamente interrelacionados. Los avances en uno de los objetivos pueden influir positivamente en el logro de otros. Por ejemplo, la acción climática (ODS 13) está directamente relacionada con la lucha contra la pobreza (ODS 1) y la salud y bienestar (ODS 3).
	
	Inclusividad: Nadie debe quedarse atrás. Los ODS buscan reducir las desigualdades no solo entre países, sino también dentro de ellos, garantizando que los más vulnerables reciban apoyo y recursos.
	
	\subsection{Los 17 Objetivos de Desarrollo Sostenible}
	
	Los 17 ODS son un conjunto integral que abarca desafíos globales que afectan a la humanidad y el planeta. Cada objetivo se desglosa en metas específicas y medibles. A continuación, se presentan algunos de los objetivos más relevantes para el contexto del desarrollo urbano y la sostenibilidad:
	
	ODS 11: Ciudades y comunidades sostenibles: Busca hacer que las ciudades y los asentamientos humanos sean inclusivos, seguros, resilientes y sostenibles. Dado que más del 55\% de la población mundial vive en áreas urbanas, este objetivo es crucial para mejorar la calidad de vida y reducir el impacto ambiental en las ciudades. Incluye metas como el acceso a una vivienda adecuada y asequible, el transporte sostenible, la planificación urbana inclusiva y la reducción del impacto ambiental urbano.
	
	ODS 13: Acción por el clima: Llama a tomar medidas urgentes para combatir el cambio climático y sus impactos, incluyendo la mitigación de emisiones de gases de efecto invernadero y la adaptación a los efectos adversos del cambio climático. Este objetivo está alineado con los compromisos internacionales, como el Acuerdo de París de 2015.
	
	ODS 7: Energía asequible y no contaminante: Promueve el acceso universal a energía moderna, asequible, confiable y sostenible, lo que implica la expansión de las energías renovables y la mejora en la eficiencia energética. Este objetivo es clave para reducir las emisiones de carbono y combatir el cambio climático.
	
	ODS 9: Industria, innovación e infraestructura: Fomenta el desarrollo de infraestructuras resilientes, la promoción de la industrialización inclusiva y sostenible, y el impulso de la innovación. Las tecnologías emergentes y la digitalización juegan un papel importante en este objetivo.
	
	\subsection{Relevancia para aplicaciones tecnológicas y urbanas}
	
	En el contexto del desarrollo de aplicaciones tecnológicas, como Eco City Tours, los ODS proporcionan un marco para evaluar y mejorar el impacto positivo de las tecnologías en las ciudades y comunidades. La creación de herramientas tecnológicas que promuevan el transporte sostenible, reduzcan las emisiones de carbono, y mejoren la calidad de vida urbana se alinea directamente con los objetivos de desarrollo sostenible. Por ejemplo, aplicaciones de rutas sostenibles como Eco City Tours contribuyen directamente al ODS 11, promoviendo alternativas de transporte no motorizado (peatonal y ciclismo), ayudando a reducir las emisiones de carbono, y mejorando la accesibilidad y conectividad dentro de las ciudades.
	
	\subsection{ODS y tecnología GIS en la planificación urbana}
	
	El uso de tecnologías como los Sistemas de Información Geográfica (GIS) desempeña un papel crucial en la implementación y seguimiento de los ODS, especialmente en el ámbito urbano. Los GIS permiten:
	
	Monitoreo del desarrollo urbano: Ayudan a analizar cómo crecen las ciudades y qué impacto tienen en el medio ambiente, lo cual es vital para cumplir con las metas de ciudades sostenibles.
	
	Optimización de rutas sostenibles: Facilitan la creación de rutas para peatones y ciclistas que minimicen el uso de vehículos motorizados, contribuyendo a la reducción de emisiones de gases de efecto invernadero.
	
	Evaluación de riesgos ambientales: Permiten identificar áreas vulnerables a riesgos naturales, como inundaciones o deslizamientos de tierra, y planificar medidas de adaptación al cambio climático.
	
	\subsection{Conclusión}
	
	La Agenda 2030 y los ODS proporcionan un marco integral para el desarrollo sostenible global, y su integración en proyectos tecnológicos y urbanos es clave para alcanzar un futuro más sostenible e inclusivo. Herramientas como los GIS y el desarrollo de aplicaciones enfocadas en la sostenibilidad, como Eco City Tours, pueden jugar un papel crucial en el logro de estos objetivos, especialmente en la creación de ciudades más sostenibles, resilientes y eficientes.

\section{Conceptos acerca de los modelos de lenguaje a gran escala (LLM)}

Empezamos por el concepto más general para luego ir acercándonos a la parte más concreta utilizada en el desarrollo de los prototipos asociados a la aplicación. Los modelos de lenguaje a gran escala es un tipo de inteligencia artificial que ha sido entrenada para comprender \acrfull{nlp} que es la manera en que se comunican las personas. Estas inteligencias artificiales son entrenadas entonces con ingentes cantidades de datos que los hacen capaces de comprender peticiones, responder a las mismas en los mismos términos de lenguaje generando una especie de comunicación entre el usuario y la máquina.



\subsection{Uso de LLMs en la aplicación de este TFG}

En este trabajo el uso de los modelos de gran escala han sido usados para obtener los \acrfull{pdi}, basado en un juego de conversaciones con la inteligencia artificial el usuario determina basándose en el conocimiento del modelo qué lugares debería visitar a la hora de hacer turismo sostenible.
En la sección de prototipos de este trabajo se observa como se va construyendo una comunicación con diferentes modelos: desde una conversación básica con resultados mediocres o incluso alucinados, hasta construcciones que tienen en cuenta estructuras de datos que serán construidas como respuesta del modelo al usuario. La aplicación se beneficia de todo ello y genera una respuesta acorde al código que se quiere obtener en la aplicación móvil.
\subsection{Técnicas usadas en los prototipos}
\subsubsection{Zero-shot y Few-shot learning}
\textbf{Zero-shot} se trata de una técnica en la que el usuario no facilita al modelo ningún ejemplo de cómo realizar una tarea. El \acrshort{llm} por tanto interpreta basado en el contexto y su propio entrenamiento lo que se ha requerido y responde acorde a estos datos. Esta técnica se usa cuando lo que se prioriza es la rapidez del modelo frente a la precisión de la salida aportada. Cuando se requiere un trabajo de aproximación mayor una técnica que siempre mejora la conversación con el modelo es la técnica \textbf{few-shot learning}: se facilita en el prompt al modelo unos ejemplos de lo que se quiere obtener. Para comprenderlo mejor veamos el siguiente ejemplo de prompt: 
\begin{verbatim}
	Clasifica los siguientes comentarios como Positivos, 
	Negativos o Neutros:
	
	1. "El producto llegó a tiempo y en perfectas condiciones."
	Clasificación: Positivo
	
	2. "El artículo no cumplió con mis expectativas, 
	estoy decepcionado."
	Clasificación: Negativo
	
	3. "La atención al cliente fue aceptable, pero podría mejorar."
	Clasificación: Neutro
	
	4. "El servicio fue excelente, muy recomendable."
	Clasificación:
\end{verbatim}

Al facilitar tres ejemplos de lo que se quiere obtener, la salida obtenida mejora y es lo que se espera por parte del usuario. Expresar en lenguaje natural lo que se quiere obtener es a veces más difícil y se puede malinterpretar por parte del modelo que darle unos ejemplos para que sepa con precisión el contexto. Más información al respecto se pueden observar en el prototipado del proyecto. Para terminar de ajustar la salida obtenida se usa la siguiente técnica:

\subsubsection{Tool calling o function calling}
Cuando la información del modelo tiene que ser muy precisa se recurre a esta técnica. En el caso del trabajo la información tenía que ser basada en una estructura que desde la programación se pudiera procesar fácilmente. Un archivo cuya estructura fuese en forma de json era vital. Para ello se le pide al modelo qué tipo de salida se requiere y para que no hubiese dudas se le facilitan un par de ejemplos. Una vez establecida la forma de la salida, se procede con el prompt de entrada usando la técnica que se quiera o cumpliendo con las especificaciones del módelo en concreto que se esté usando.
De esta manera también se realiza una separación de abstracción que facilita la modularidad del código: se puede cambiar de origen en los datos, es decir, elegir otro modelo \acrshort{llm}, pero la salida del mismo siempre debe cumplir con estos requisitos desde el punto de vista de la programación. Es el mismo caso de abstracción usada en otros lenguajes de programación donde existe un repositorio y una fuente de datos. El programa se nutre de uno dejando el otro para acceder a datos de manera más concreta, donde el cambio de uno deja inalterado el funcionamiento del programa.

\section{Retrieval-Augmented Generation (RAG)}
Generación Aumentada por Recuperación es una técnica usada en modelos de inteligencia artificial en la cual se obtiene información para nutrir a un modelo de gran escala que ya ha sido entrenado, de esta manera amplía su conocimiento y es capaz de generar una respuesta más precisa, actualizada y completa. 
El problema que subyace en los modelos tradicionales es que una vez alimentados con un conjunto de datos, sufren de un aislamiento del mundo que los rodea.

Para prevenir este problema se nutre de información que el usuario facilita siguiendo los siguientes pasos:
\begin{enumerate}
	\item \textbf{Splitter/tokenización}: la información proporcionada se mide en tokens y cada modelo tiene una cantidad que puede usar como contexto, además del coste que algunos modelos pueden cobrar al usuario por token, es por ello que transformar una cadena de texto inicial que ocupa más espacio del estrictamente necesario en una cadena separada en pequeños trozos de información que además usa ciertos tokens especiales para mayor comprensión es una tarea previa a la recuperación de información.

	\item \textbf{Embeddings}: consiste en transformar la información facilitada y representarla en vectores de n dimensiones. Para ellos se usa comúnmente otro modelo entrenado para transformar la información en vectores.
	
	\imagen{langflow_rag_embeddings}{Preparación de la información de un RAG mostrada en la herramienta Langflow}{1}
	
	\item \textbf{RAG}: con la información ampliada ya vectorizada en una base de datos, el usuario genera una entrada o prompt al modelo, el \acrshort{llm} entonces selecciona la información más afín de los datos aportados para generar así un prompt ampliado o mejorado que será pasado al modelo para un procesamiento de información habitual, consiguiendo así un mejor resultado.
	
	\imagen{langflow_rag_retrieval}{RAG mostrado en la herramienta Langflow usando https://astra.datastax.com }{1}
\end{enumerate}

\subsubsection{Uso de RAGs en la aplicación de este TFG}
La utilidad de los \acrfull{rag} en aplicaciones es muy amplia. La más habitual se usa para conseguir un chatbot de empresas que sirvan como atención al cliente. 
En nuestro caso se alimenta a la base de datos con embeddings la información actualizada de la web usando agentes que serán explicados a continuación, esta información funciona como una entrada de datos de un sistema RAG para la mayor comprensión del mundo que le rodea al modelo. De esta manera y con un juego de prompts \textbf{se obtienen los mejores resultados posibles} que serán después tratados por la aplicación móvil para mostrar dicha información al usuario.


\section{Agentes}
\label{sec:agentes}
La información que alimenta a los RAG puede ser un archivo de texto con información general de un tema sin embargo hay veces en los que la información no está físicamente en un archivo y se tiene que obtener a través de agentes.
Estas múltiples herramientas pueden ser vistas como aplicaciones que alimentarán al modelo con un conjunto de herramientas tales como motores de búsqueda, bases de datos, páginas web, etc. Una vez provisto con esta información el modelo es capaz de razonar acerca de las acciones que debe cumplir para obtener el mejor resultado.
\subsubsection{Uso de Agentes en este TFG}
Se utilizan varios con el fin de obtener a través de la web información actualizada de los puntos de interés de los lugares que se van a visitar.

\section{Conceptos acerca de la Agilidad y el método SCRUM}
\textbf{La metodología ágil} es un enfoque de gestión de proyectos que se centra en la flexibilidad, la colaboración y la entrega continua de valor al cliente. La agilidad se basa en la idea de ciclos de trabajo cortos e iterativos denominados \textbf{sprints}, donde se produce software funcional al final de cada iteración.

El Manifiesto Ágil (2001) establece cuatro valores fundamentales:
\begin{itemize}
\item Individuos e interacciones sobre procesos y herramientas.
\item Software funcional sobre documentación exhaustiva.
\item Colaboración con el cliente sobre negociación de contratos.
\item Respuesta ante el cambio sobre seguir un plan.
\end{itemize}

\textbf{SCRUM} es un marco de trabajo ágil que facilita la auto-organización del equipo, promueve la transparencia y mejora la capacidad de adaptación del proyecto.

Este enfoque fue particularmente valioso en el desarrollo de Eco City Tours, iterando rápidamente sobre las funcionalidades de la aplicación, hacer pruebas de usuario con prototipos funcionales y ajustar el desarrollo a las necesidades que surgían durante el proceso usando elementos tales como:

\begin{itemize}
	\item \textbf{Planificación de Sprint}: consiste en la creación y asignación de tareas que se realizarán durante el período de tiempo en que consiste el sprint. A cada tarea se le asigna unos puntos de historia que reflejan el tiempo planificado para realizar dicha tarea. También se planifican etiquetas e hitos para los que las diferentes tareas ayudan a lograr.
	\item \textbf{Sprint review y sprint retrospective}: después de cada sprint y con la ayuda del tutor del \acrshort{tfg} se evalua el trabajo realizado durante el sprint, se 
	
\end{itemize}

El uso de la metodología ágil y el marco SCRUM fue esencial para el éxito del desarrollo de Eco City Tours. La agilidad permitió una colaboración constante y una entrega continua de valor, mientras que SCRUM proporcionó la estructura necesaria para gestionar eficazmente el trabajo, resolver problemas y optimizar el proceso de desarrollo en cada iteración.